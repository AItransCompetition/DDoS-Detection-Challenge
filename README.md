# DDoS-Detection-Challenge

This repository contains the DDoS-datasets for each stage, a reference format for the prediction labels to be submitted, judge script, and a few simple runnable sample programs.



## Quick Start & Usage of this repository

We provide a demo which aims at helping you to learn how to generate, submit and judge the prediction labels.

![workflow](workflow.jpg)

### Download Dataset

First you need to download the dataset for the current stage and put it under the corresponding subfolder. The download links for each stage dataset are shown in the corresponding subfolders.

### Generate Features

In this demo, the features of the current dataset have to be generated by:

```bash
g++ pcap2csv.cpp -o pcap2csv -O2 -lpcap
./pcap2csv {pcap file localtion} {csv file location} [label file]
```

for example:

```bash
./pcap2csv dataset/Stage0/train/SAT-01-12-2018_0 dataset/Stage0/SAT-01-12-2018_0.csv dataset/Stage0/train/train_labels.txt
./pcap2csv dataset/Stage0/SAT-03-11-2018_0.pcap dataset/Stage0/SAT-03-11-2018_0.csv
```

The features (.csv files) will contain several column, each describes a feature. Current `pcpc2csv` will generate the following features: 

- `Flow ID, Source IP, Source Port, Destination IP, Destination Port, Protocol`: subset of the quintuple describing the identifier of the flow.
- `Total Fwd Packets,Packet Length,Total Length of Fwd Packets,Fwd Packet Length Max,Fwd Packet Length Min,Fwd Packet Length Mean,Fwd Packet Length Std`: the number of forward packets, the total/maximum/minimum/average/variance length of the forward packets in this flow.
- `Timestamp,IPD,Fwd IPD Max,Fwd IPD Min,Fwd IPD Mean,Fwd IPD Std`: the timestamp, the origin/maximum/minimum/average/variance inter-packet delay of the forward packet in this flow.
- `IP TTL,IP Diffserv,TCP Window,TCP Data Offset,Udp Len` : other features.
- `Label`: whether the flow is BENIGN or ATTACK flow. When `label file` is not provided, it will be `UNKNOWN`.

### Generate Prediction Labels

Then the prediction labels will be generated by running the provided algorithms (Random Forest or Support Vector Machine) using the features generated previously, for example, in stage0:

```bash
cd dataset/Stage0
python Stage0SimpleImplementation.py
```

The prediction labels will be stored in `dataset/Stage0/test_dataset/test_labels.txt` and should be submitted to the judge website.

### Judge script

The judge script will be logically similar to `checker.cpp`. The usage of this judge script is:

```bash
g++ checker.cpp -o checker -O2 -std=c++11
./checker [predict_labels] [correct_labels] [scorefile]
```

The `checker` will compare the two labels files and write the score  to the `[scorefile]`.
